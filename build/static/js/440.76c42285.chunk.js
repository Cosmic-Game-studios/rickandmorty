"use strict";(self.webpackChunkrick_and_morty_adventure=self.webpackChunkrick_and_morty_adventure||[]).push([[440],{7338:(e,a,s)=>{s.d(a,{A:()=>c});var t=s(5043);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;const[a,s]=(0,t.useState)((()=>window.innerWidth<e));return(0,t.useEffect)((()=>{const a=()=>{s(window.innerWidth<e)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}}),[e]),a}},5440:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(5043),c=s(3216),r=s(5475),i=s(7338),n=s(579);const l=function(){const e=(0,c.Zp)(),a=(0,i.A)(),{id:s}=(0,c.g)(),[l,d]=(0,t.useState)(null),[o,h]=(0,t.useState)([]),[m,p]=(0,t.useState)(!0),[j,u]=(0,t.useState)(!0),[x,N]=(0,t.useState)(""),[v,g]=(0,t.useState)([]),[w,b]=(0,t.useState)("episode"),k=(0,t.useCallback)((async()=>{p(!0),N("");try{const a=new AbortController,t=setTimeout((()=>a.abort()),1e4),c=await fetch("https://rickandmortyapi.com/api/character/".concat(s),{signal:a.signal});if(clearTimeout(t),!c.ok){if(404===c.status)throw new Error("Character not found. They might be in another dimension!");throw new Error("Error loading character (".concat(c.status,")"))}const r=await c.json();if(d(r),r.episode&&r.episode.length>0){const a=r.episode.map((e=>e.split("/").pop())),s=await fetch("https://rickandmortyapi.com/api/episode/".concat(a.join(",")));if(!s.ok)throw new Error("Error loading episodes.");const t=await s.json();h(Array.isArray(t)?t:[t]);try{const e=await fetch("https://rickandmortyapi.com/api/character/?species=".concat(encodeURIComponent(r.species)));if(e.ok){const a=(await e.json()).results.filter((e=>e.id!==r.id)).slice(0,4);g(a)}}catch(e){console.error("Error loading related characters:",e)}}else h([])}catch(e){"AbortError"===e.name?N("Request timed out. Please check your connection and try again."):N(e.message||"Failed to load character"),console.error("Error loading character details:",e)}finally{p(!1),u(!1)}}),[s]);(0,t.useEffect)((()=>{k()}),[k]);const f=o.length>0?[...o].sort(((e,a)=>"episode"===w?e.episode.localeCompare(a.episode):"name"===w?e.name.localeCompare(a.name):"airDate"===w?new Date(e.air_date)-new Date(a.air_date):0)):[],y=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"alive":return"status-alive";case"dead":return"status-dead";default:return"status-unknown"}};if(m)return(0,n.jsxs)("div",{className:"character-loading",children:[(0,n.jsx)("div",{className:"character-loading-spinner"}),(0,n.jsx)("p",{children:"Loading character details..."})]});if(x)return(0,n.jsxs)("div",{className:"character-error",children:[(0,n.jsx)("h2",{children:"Oops! Something went wrong"}),(0,n.jsx)("p",{children:x}),(0,n.jsxs)("div",{className:"character-error-actions",children:[(0,n.jsx)("button",{onClick:k,className:"retry-button",children:"Try Again"}),(0,n.jsx)(r.N_,{to:"/characters",className:"back-link",children:"Back to Characters"})]})]});const{name:C,image:E,status:S,species:_,gender:A,origin:D,location:L,type:T,created:z}=l;return(0,n.jsxs)("div",{className:"character-details-page ".concat(a?"mobile":"desktop"),children:[(0,n.jsx)("div",{className:"character-details-header",children:(0,n.jsxs)("button",{onClick:()=>{e(-1)},className:"back-button",children:[(0,n.jsx)("span",{className:"back-icon",children:"\u2190"})," Back"]})}),(0,n.jsxs)("div",{className:"character-card-detail",children:[(0,n.jsxs)("div",{className:"detail-image-container",children:[(0,n.jsx)("img",{src:E,alt:C,className:"detail-image",loading:"lazy"}),(0,n.jsxs)("span",{className:"status-badge ".concat(y(S)),children:[(0,n.jsx)("span",{className:"status-indicator"}),S]})]}),(0,n.jsxs)("div",{className:"detail-info",children:[(0,n.jsx)("h2",{className:"character-name",children:C}),(0,n.jsxs)("div",{className:"character-stats",children:[(0,n.jsxs)("div",{className:"stat-badge",children:[(0,n.jsx)("span",{className:"stat-label",children:"Species"}),(0,n.jsx)("span",{className:"stat-value",children:_})]}),(0,n.jsxs)("div",{className:"stat-badge",children:[(0,n.jsx)("span",{className:"stat-label",children:"Gender"}),(0,n.jsx)("span",{className:"stat-value",children:A})]}),(0,n.jsxs)("div",{className:"stat-badge",children:[(0,n.jsx)("span",{className:"stat-label",children:"Origin"}),(0,n.jsx)("span",{className:"stat-value",children:null===D||void 0===D?void 0:D.name})]}),(0,n.jsxs)("div",{className:"stat-badge",children:[(0,n.jsx)("span",{className:"stat-label",children:"Location"}),(0,n.jsx)("span",{className:"stat-value",children:null===L||void 0===L?void 0:L.name})]}),T&&(0,n.jsxs)("div",{className:"stat-badge",children:[(0,n.jsx)("span",{className:"stat-label",children:"Type"}),(0,n.jsx)("span",{className:"stat-value",children:T})]})]}),(0,n.jsx)("div",{className:"character-meta",children:(0,n.jsxs)("div",{className:"character-created",children:[(0,n.jsx)("span",{children:"Added to database: "}),(0,n.jsx)("span",{children:new Date(z).toLocaleDateString()})]})})]})]}),(0,n.jsxs)("div",{className:"episode-list",children:[(0,n.jsxs)("div",{className:"episode-header",children:[(0,n.jsxs)("h3",{children:["Episodes featuring ",C]}),(0,n.jsxs)("div",{className:"episode-sort",children:[(0,n.jsx)("span",{children:"Sort by:"}),(0,n.jsxs)("select",{value:w,onChange:e=>b(e.target.value),className:"episode-sort-select",children:[(0,n.jsx)("option",{value:"episode",children:"Episode Number"}),(0,n.jsx)("option",{value:"name",children:"Name"}),(0,n.jsx)("option",{value:"airDate",children:"Air Date"})]})]})]}),j?(0,n.jsx)("p",{children:"Loading episodes..."}):f.length>0?(0,n.jsx)("div",{className:"episodes-grid",children:f.map((e=>(0,n.jsxs)("div",{className:"episode-card",children:[(0,n.jsxs)("div",{className:"episode-card-header",children:[(0,n.jsx)("span",{className:"episode-code",children:e.episode}),(0,n.jsx)("span",{className:"episode-air-date",children:e.air_date})]}),(0,n.jsx)("h4",{className:"episode-title",children:e.name}),(0,n.jsx)(r.N_,{to:"/episode/".concat(e.id),className:"episode-link",children:"View Episode Details"})]},e.id)))}):(0,n.jsx)("p",{children:"No episodes found."})]}),v.length>0&&(0,n.jsxs)("div",{className:"related-characters",children:[(0,n.jsx)("h3",{children:"Similar Characters"}),(0,n.jsx)("div",{className:"related-characters-grid",children:v.map((e=>(0,n.jsxs)(r.N_,{to:"/character/".concat(e.id),className:"related-character-card",children:[(0,n.jsx)("img",{src:e.image,alt:e.name,className:"related-character-image",loading:"lazy"}),(0,n.jsxs)("div",{className:"related-character-info",children:[(0,n.jsx)("h4",{children:e.name}),(0,n.jsxs)("span",{className:"status-badge small ".concat(y(e.status)),children:[(0,n.jsx)("span",{className:"status-indicator"}),e.status]})]})]},e.id)))})]}),(0,n.jsx)(r.N_,{to:"/characters",className:"back-link",children:"Back to All Characters"})]})}}}]);
//# sourceMappingURL=440.76c42285.chunk.js.map