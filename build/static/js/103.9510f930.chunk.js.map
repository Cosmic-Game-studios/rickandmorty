{"version":3,"file":"static/js/103.9510f930.chunk.js","mappings":"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","sources":["pages/Shop.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { UserContext } from '../context/UserContext';\nimport PropTypes from 'prop-types';\nimport {\n  Container,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardMedia,\n  Button,\n  Chip,\n  Box,\n  Snackbar,\n  Alert,\n  LinearProgress\n} from '@mui/material';\nimport { ShoppingCart, Star, Lock } from '@mui/icons-material';\n\n// Konstanten für Seltenheitsstufen\nconst RARITY = {\n  COMMON: 1,\n  UNCOMMON: 2,\n  RARE: 3,\n  EPIC: 4,\n  LEGENDARY: 5\n};\n\n// Helfer-Funktion für Formatierung\nconst formatCoins = (amount) => {\n  return amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n};\n\n// Erweiterte Charakter-Sammlung mit Beschreibungen und richtigen Bildern\nconst extendedShopItems = [\n  {\n    id: 101,\n    name: \"Evil Rick\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/119.jpeg\",\n    description: \"Die böse Version von Rick aus einer alternativen Dimension. Bekannt für sein gnadenloses Vorgehen.\",\n    coinPrice: 200,\n    requiredLevel: 3,\n    rarity: RARITY.RARE,\n    discount: 0\n  },\n  {\n    id: 102,\n    name: \"Evil Morty\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/118.jpeg\",\n    description: \"Ein mysteriöser Morty mit finsteren Plänen. Geführt von Ambitionen, die das Multiversum erschüttern könnten.\",\n    coinPrice: 350,\n    requiredLevel: 8,\n    rarity: RARITY.LEGENDARY,\n    discount: 10\n  },\n  {\n    id: 103,\n    name: \"Space Beth\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/665.jpeg\",\n    description: \"Die abenteuerlustige Version von Beth, die das Universum bereist und gefährliche Missionen annimmt.\",\n    coinPrice: 250,\n    requiredLevel: 5,\n    rarity: RARITY.EPIC,\n    discount: 0\n  },\n  {\n    id: 104,\n    name: \"Pickle Rick\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/265.jpeg\",\n    description: \"Rick hat sich in eine Gurke verwandelt! Einer seiner cleversten wissenschaftlichen Durchbrüche.\",\n    coinPrice: 300,\n    requiredLevel: 5,\n    rarity: RARITY.EPIC,\n    featured: true,\n    discount: 15\n  },\n  {\n    id: 105,\n    name: \"Doofus Jerry\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/164.jpeg\",\n    description: \"Eine noch ungeschicktere Version von Jerry. Überraschend beliebt für seine unbeabsichtigte Komik.\",\n    coinPrice: 150,\n    requiredLevel: 2,\n    rarity: RARITY.UNCOMMON,\n    discount: 0\n  },\n  {\n    id: 106,\n    name: \"Jaguar\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/312.jpeg\",\n    description: \"Ein unglaublich fähiger Attentäter mit einem tiefen Sinn für Ehre.\",\n    coinPrice: 230,\n    requiredLevel: 4,\n    rarity: RARITY.RARE,\n    discount: 0\n  },\n  {\n    id: 107,\n    name: \"Mr. Meeseeks\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/242.jpeg\",\n    description: \"Existiert nur, um eine Aufgabe zu erfüllen und dann zu verschwinden. 'Schau mich an!'\",\n    coinPrice: 210,\n    requiredLevel: 4,\n    rarity: RARITY.RARE,\n    discount: 5\n  },\n  {\n    id: 108,\n    name: \"Noob-Noob\",\n    image: \"https://rickandmortyapi.com/api/character/avatar/265.jpeg\",\n    description: \"Das am meisten unterschätzte Mitglied der Vindicators. Rick schätzt ihn wirklich.\",\n    coinPrice: 180,\n    requiredLevel: 3,\n    rarity: RARITY.UNCOMMON,\n    discount: 0\n  }\n];\n\n// Helper function: Shuffle an array (Fisher-Yates Shuffle)\nfunction shuffleArray(array) {\n  const newArr = [...array];\n  for (let i = newArr.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [newArr[i], newArr[j]] = [newArr[j], newArr[i]];\n  }\n  return newArr;\n}\n\n// Item Komponente\nconst ShopItem = ({ item, onPurchase, ownedItems }) => {\n  const isOwned = ownedItems?.some(ownedItem => ownedItem.id === item.id);\n  const hasDiscount = item.discount > 0;\n  const finalPrice = hasDiscount\n    ? Math.floor(item.coinPrice * (1 - item.discount / 100))\n    : item.coinPrice;\n\n  // Handle image errors by showing backup or placeholder image\n  const handleImageError = (e) => {\n    e.target.src = `https://via.placeholder.com/150?text=${encodeURIComponent(item.name)}`;\n  };\n\n  // Get rarity display information\n  const getRarityInfo = () => {\n    switch(item.rarity) {\n      case RARITY.COMMON:\n        return { name: 'Gewöhnlich', color: '#9e9e9e' };\n      case RARITY.UNCOMMON:\n        return { name: 'Ungewöhnlich', color: '#4caf50' };\n      case RARITY.RARE:\n        return { name: 'Selten', color: '#2196f3' };\n      case RARITY.EPIC:\n        return { name: 'Episch', color: '#9c27b0' };\n      case RARITY.LEGENDARY:\n        return { name: 'Legendär', color: '#ff9800' };\n      default:\n        return null;\n    }\n  };\n\n  const rarityInfo = getRarityInfo();\n\n  return (\n    <Card\n      sx={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        position: 'relative',\n        opacity: isOwned ? 0.7 : 1,\n        transition: 'transform 0.2s, box-shadow 0.2s',\n        '&:hover': {\n          transform: isOwned ? 'none' : 'translateY(-4px)',\n          boxShadow: isOwned ? 2 : 6\n        }\n      }}\n    >\n      {item.featured && (\n        <Chip\n          label=\"⭐ Empfohlen\"\n          color=\"primary\"\n          size=\"small\"\n          sx={{\n            position: 'absolute',\n            top: 8,\n            left: 8,\n            zIndex: 1,\n            fontWeight: 'bold'\n          }}\n        />\n      )}\n\n      {hasDiscount && (\n        <Chip\n          label={`-${item.discount}%`}\n          color=\"error\"\n          size=\"small\"\n          sx={{\n            position: 'absolute',\n            top: 8,\n            right: 8,\n            zIndex: 1,\n            fontWeight: 'bold'\n          }}\n        />\n      )}\n\n      <Box sx={{ position: 'relative' }}>\n        <CardMedia\n          component=\"img\"\n          height=\"200\"\n          image={item.image}\n          alt={item.name}\n          onError={handleImageError}\n          sx={{ objectFit: 'cover' }}\n        />\n        {isOwned && (\n          <Box\n            sx={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              bgcolor: 'rgba(0, 0, 0, 0.6)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              color: 'white',\n              fontWeight: 'bold',\n              fontSize: '1.2rem'\n            }}\n          >\n            Im Besitz\n          </Box>\n        )}\n      </Box>\n\n      <CardContent sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column' }}>\n        <Typography variant=\"h6\" component=\"h3\" gutterBottom>\n          {item.name}\n        </Typography>\n\n        {rarityInfo && (\n          <Chip\n            icon={<Star />}\n            label={rarityInfo.name}\n            size=\"small\"\n            sx={{\n              bgcolor: rarityInfo.color,\n              color: 'white',\n              mb: 1,\n              alignSelf: 'flex-start'\n            }}\n          />\n        )}\n\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2, flexGrow: 1 }}>\n          {item.description}\n        </Typography>\n\n        {item.requiredLevel && (\n          <Chip\n            icon={<Lock />}\n            label={`Level ${item.requiredLevel}+`}\n            size=\"small\"\n            variant=\"outlined\"\n            sx={{ mb: 1, alignSelf: 'flex-start' }}\n          />\n        )}\n\n        <Box sx={{ mt: 'auto' }}>\n          <Box sx={{ mb: 2 }}>\n            {hasDiscount && (\n              <Typography\n                variant=\"body2\"\n                sx={{\n                  textDecoration: 'line-through',\n                  color: 'text.secondary',\n                  display: 'inline',\n                  mr: 1\n                }}\n              >\n                {item.coinPrice}\n              </Typography>\n            )}\n            <Typography\n              variant=\"h6\"\n              component=\"span\"\n              color=\"primary\"\n            >\n              {finalPrice} Münzen\n            </Typography>\n          </Box>\n\n          <Button\n            variant={isOwned ? 'outlined' : 'contained'}\n            fullWidth\n            startIcon={isOwned ? null : <ShoppingCart />}\n            onClick={() => !isOwned && onPurchase(item)}\n            disabled={isOwned}\n          >\n            {isOwned ? 'Im Besitz' : 'Kaufen'}\n          </Button>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nShopItem.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    coinPrice: PropTypes.number.isRequired,\n    requiredLevel: PropTypes.number,\n    rarity: PropTypes.number,\n    discount: PropTypes.number,\n    featured: PropTypes.bool\n  }).isRequired,\n  onPurchase: PropTypes.func.isRequired,\n  ownedItems: PropTypes.array\n};\n\nfunction Shop() {\n  const { coins, level, unlockedCharacters, unlockCharacter, addCoins } = useContext(UserContext);\n  const [dailyItems, setDailyItems] = useState([]);\n  const [featuredItems, setFeaturedItems] = useState([]);\n  const [showToast, setShowToast] = useState({ visible: false, message: '', severity: 'info' });\n\n  // Check the current date (format: YYYY-MM-DD)\n  const today = new Date().toISOString().slice(0, 10);\n\n  useEffect(() => {\n    // Check if shop items for the current day are already stored\n    const storedDate = localStorage.getItem('dailyShopDate');\n    const storedItems = localStorage.getItem('dailyShopItems');\n    const storedFeatured = localStorage.getItem('featuredShopItems');\n\n    if (storedDate === today && storedItems && storedFeatured) {\n      // Use stored data\n      setDailyItems(JSON.parse(storedItems));\n      setFeaturedItems(JSON.parse(storedFeatured));\n    } else {\n      // Generate new daily shop items\n      generateDailyShop();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [today]);\n\n  // Generate daily shop items\n  const generateDailyShop = () => {\n    // Shuffle the extended pool and select 4 daily items\n    const shuffled = shuffleArray(extendedShopItems);\n    const newDailyItems = shuffled.slice(0, 4);\n    \n    // Select featured items (predefined or items with discount)\n    const featured = extendedShopItems.filter(item => \n      item.featured || item.discount > 0\n    ).slice(0, 2);\n    \n    setDailyItems(newDailyItems);\n    setFeaturedItems(featured);\n    \n    localStorage.setItem('dailyShopDate', today);\n    localStorage.setItem('dailyShopItems', JSON.stringify(newDailyItems));\n    localStorage.setItem('featuredShopItems', JSON.stringify(featured));\n  };\n\n  // Show toast message\n  const showToastMessage = (message, severity = 'info') => {\n    setShowToast({ visible: true, message, severity });\n  };\n\n  // Close toast\n  const closeToast = () => {\n    setShowToast({ ...showToast, visible: false });\n  };\n\n  // Purchase handler\n  const purchaseCharacter = (item) => {\n    // Check if the character is already unlocked\n    if (unlockedCharacters.find(c => c.id === item.id)) {\n      showToastMessage(\"Charakter bereits freigeschaltet!\", \"warning\");\n      return;\n    }\n\n    // Calculate price with discount\n    const finalPrice = item.discount > 0\n      ? Math.floor(item.coinPrice * (1 - item.discount / 100))\n      : item.coinPrice;\n\n    // Check if the player has enough coins\n    if (coins < finalPrice) {\n      showToastMessage(\"Nicht genug Münzen!\", \"error\");\n      return;\n    }\n\n    // Check if the player has reached the required level\n    if (level < item.requiredLevel) {\n      showToastMessage(`Level ${item.requiredLevel} erforderlich!`, \"error\");\n      return;\n    }\n\n    // Deduct coins\n    addCoins(-finalPrice);\n\n    // Unlock the character\n    unlockCharacter({\n      id: item.id,\n      name: item.name,\n      image: item.image\n    });\n\n    showToastMessage(`${item.name} wurde freigeschaltet!`, \"success\");\n  };\n\n  // The shop is available only from level 5\n  if (level < 5) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 8 }}>\n        <Box textAlign=\"center\">\n          <Lock sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\n          <Typography variant=\"h3\" component=\"h2\" gutterBottom>\n            Charaktershop\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n            Der Shop wird ab Level 5 freigeschaltet. Erreiche Level 5, um einzigartige Charaktere zu kaufen.\n          </Typography>\n          <Box sx={{ mt: 3, maxWidth: 400, mx: 'auto' }}>\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n              <Typography variant=\"body2\">Fortschritt</Typography>\n              <Typography variant=\"body2\">Level {level} / 5</Typography>\n            </Box>\n            <LinearProgress\n              variant=\"determinate\"\n              value={(level / 5) * 100}\n              sx={{ height: 10, borderRadius: 5 }}\n            />\n          </Box>\n        </Box>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\n        <Typography variant=\"h3\" component=\"h2\">\n          Character Shop\n        </Typography>\n        <Chip\n          icon={<span>💰</span>}\n          label={`${formatCoins(coins)} Münzen`}\n          color=\"primary\"\n          sx={{ fontSize: '1.1rem', py: 3 }}\n        />\n      </Box>\n\n      <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n        Kaufe einzigartige Charaktere mit deinen Münzen. Neue Angebote sind jeden Tag verfügbar!\n      </Typography>\n\n      {/* Featured Items Section */}\n      {featuredItems.length > 0 && (\n        <Box sx={{ mb: 6 }}>\n          <Typography variant=\"h4\" component=\"h3\" gutterBottom sx={{ mb: 3 }}>\n            Empfohlene Angebote\n          </Typography>\n          <Grid container spacing={3}>\n            {featuredItems.map(item => (\n              <Grid item xs={12} sm={6} md={4} key={item.id}>\n                <ShopItem\n                  item={item}\n                  onPurchase={purchaseCharacter}\n                  ownedItems={unlockedCharacters}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </Box>\n      )}\n\n      {/* Daily Items Section */}\n      <Box sx={{ mb: 6 }}>\n        <Typography variant=\"h4\" component=\"h3\" gutterBottom>\n          Tagesangebote\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n          Diese Angebote ändern sich täglich!\n        </Typography>\n        <Grid container spacing={3}>\n          {dailyItems.map(item => (\n            <Grid item xs={12} sm={6} md={4} lg={3} key={item.id}>\n              <ShopItem\n                item={item}\n                onPurchase={purchaseCharacter}\n                ownedItems={unlockedCharacters}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n\n      {/* All Items Section */}\n      <Box>\n        <Typography variant=\"h4\" component=\"h3\" gutterBottom sx={{ mb: 3 }}>\n          Alle verfügbaren Charaktere\n        </Typography>\n        <Grid container spacing={3}>\n          {extendedShopItems\n            .filter(item => level >= item.requiredLevel)\n            .map(item => (\n              <Grid item xs={12} sm={6} md={4} lg={3} key={item.id}>\n                <ShopItem\n                  item={item}\n                  onPurchase={purchaseCharacter}\n                  ownedItems={unlockedCharacters}\n                />\n              </Grid>\n            ))}\n        </Grid>\n      </Box>\n\n      {/* Toast Notification */}\n      <Snackbar\n        open={showToast.visible}\n        autoHideDuration={3000}\n        onClose={closeToast}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert\n          onClose={closeToast}\n          severity={showToast.severity}\n          sx={{ width: '100%' }}\n        >\n          {showToast.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default Shop;"],"names":["RARITY","extendedShopItems","id","name","image","description","coinPrice","requiredLevel","rarity","discount","featured","ShopItem","_ref","item","onPurchase","ownedItems","isOwned","some","ownedItem","hasDiscount","finalPrice","Math","floor","rarityInfo","getRarityInfo","color","_jsxs","Card","sx","height","display","flexDirection","position","opacity","transition","transform","boxShadow","children","_jsx","Chip","label","size","top","left","zIndex","fontWeight","concat","right","Box","CardMedia","component","alt","onError","e","target","src","encodeURIComponent","objectFit","bottom","bgcolor","alignItems","justifyContent","fontSize","CardContent","flexGrow","Typography","variant","gutterBottom","icon","Star","mb","alignSelf","Lock","mt","textDecoration","mr","Button","fullWidth","startIcon","ShoppingCart","onClick","disabled","coins","level","unlockedCharacters","unlockCharacter","addCoins","useContext","UserContext","dailyItems","setDailyItems","useState","featuredItems","setFeaturedItems","showToast","setShowToast","visible","message","severity","today","Date","toISOString","slice","useEffect","storedDate","localStorage","getItem","storedItems","storedFeatured","JSON","parse","generateDailyShop","newDailyItems","array","newArr","i","length","j","random","shuffleArray","filter","setItem","stringify","showToastMessage","arguments","undefined","closeToast","_objectSpread","purchaseCharacter","find","c","Container","maxWidth","py","textAlign","paragraph","mx","LinearProgress","value","borderRadius","amount","toString","replace","Grid","container","spacing","map","xs","sm","md","lg","Snackbar","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","width"],"sourceRoot":""}